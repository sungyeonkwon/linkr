var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};
var isMobile=function(){return 576>=window.innerWidth},formatDate=function(a){var b=a.getDate(),c="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[a.getMonth()],d=a.getFullYear(),e=a.getHours();a=a.getMinutes();return b+" "+c+" "+d+" "+(10>e?"0"+e:e)+":"+(10>a?"0"+a:a)},changeDomText=function(a,b,c){a.style.color=void 0===c?"red":c;a.textContent=b},EXAMPLE_ITEMS=[{name:"Phantom",url:"https://phantom.land/work",date:"14 May 2019 09:30",color:"rgba(20,119,29,0.5)"},{name:"Google",url:"https://www.google.com/",
date:"10 May 2019 17:55",color:"rgba(210,93,158,0.5)"},{name:"Visual Algorithms",url:"https://bost.ocks.org/mike/algorithms/",date:"10 May 2019 12:03",color:"rgba(20,199,130,0.5)"},{name:"Hallo Internet",url:"http://hallointer.net/",date:"10 May 2019 12:03",color:"rgba(120,19,30,0.5)"},{name:"Studio Moniker",url:"https://studiomoniker.com/",date:"14 May 2019 09:30",color:"rgba(20,19,129,0.5)"},{name:"MDN",url:"https://developer.mozilla.org/en-US/",date:"10 May 2019 17:25",color:"rgba(10,213,58,0.5)"},
{name:"Python Visualiser",url:"http://www.pythontutor.com/visualize.html#mode=edit",date:"10 May 2019 12:03",color:"rgba(90,219,30,0.5)"},{name:"Sung Kwon",url:"http://www.sungkwon.info/",date:"10 May 2019 12:03",color:"rgba(255,0,30,0.5)"},{name:"Heroku",url:"https://www.heroku.com/",date:"14 May 2019 09:30",color:"rgba(140,89,229,0.5)"},{name:"Ghent Art Book Fair",url:"https://ghentartbookfair.org/",date:"10 May 2019 17:55",color:"rgba(10,193,58,0.5)"},{name:"Huffman Coding",url:"https://en.wikipedia.org/wiki/Huffman_coding",
date:"10 May 2019 12:03",color:"rgba(9,19,30,0.5)"},{name:"Nervous System",url:"https://n-e-r-v-o-u-s.com/index.php",date:"10 May 2019 09:30",color:"rgba(120,119,129,0.5)"},{name:"Phaser",url:"https://phaser.io/",date:"10 May 2019 17:25",color:"rgba(210,213,58,0.5)"},{name:"Birthday Problem",url:"https://en.wikipedia.org/wiki/Birthday_problem",date:"10 May 2019 12:03",color:"rgba(190,255,230,0.5)"},{name:"Mike Bostock",url:"https://bost.ocks.org/mike/",date:"10 May 2019 12:03",color:"rgba(55,0,230,0.5)"},
{name:"Text Visualiser",url:"https://text-visualiser.firebaseapp.com/",date:"10 May 2019 09:30",color:"rgba(120,19,129,0.5)"},{name:"On Particular Days I Search For",url:"http://bl.ocks.org/sungyeonkwon/raw/98e161cfee9bc1e494340f3235278b16/",date:"10 May 2019 17:25",color:"rgba(10,213,98,0.5)"},{name:"Github",url:"https://github.com/",date:"10 May 2019 12:03",color:"rgba(190,55,230,0.5)"},{name:"D3",url:"https://d3js.org/",date:"10 May 2019 12:03",color:"rgba(55,200,230,0.5)"},{name:"Yaeji",url:"https://www.youtube.com/watch?v=4t649hEMbIA&t=71s",
date:"10 May 2019 17:25",color:"rgba(210,113,98,0.5)"},{name:"Circit Diagram",url:"https://xkcd.com/730/",date:"10 May 2019 12:03",color:"rgba(290,55,130,0.5)"},{name:"Bayes",url:"http://yudkowsky.net/rational/bayes",date:"10 May 2019 12:03",color:"rgba(55,100,30,0.5)"}];
function Storage(){var a=this;this.init=function(){void 0===window.localStorage.links&&window.localStorage.setItem("links",JSON.stringify(EXAMPLE_ITEMS))};this.clear=function(){window.localStorage.clear()};this.getAllItems=function(){return JSON.parse(window.localStorage.getItem("links"))};this.getItem=function(b){return a.getAllItems().filter(function(a){return a.url===b})};this.getRecentItem=function(){return JSON.parse(window.localStorage.getItem("links"))[0]};this.updateItemName=function(b,c){var d=
a.getAllItems().findIndex(function(a){return a.url===b||a.url+"/"===b});if(-1<d){var e=a.getItem(b)[0];d=[Object.assign({},e,{name:c,date:formatDate(new Date)})].concat($jscomp.arrayFromIterable(a.getAllItems().slice(0,d)),$jscomp.arrayFromIterable(a.getAllItems().slice(d+1)));window.localStorage.setItem("links",JSON.stringify(d));location.reload()}};this.removeItem=function(b){var c=a.getAllItems().filter(function(a){return a.url!==b&&a.url+"/"!==b});c&&(window.localStorage.setItem("links",JSON.stringify(c)),
location.reload())};this.setItem=function(b){b=[b].concat($jscomp.arrayFromIterable(a.getAllItems()));return window.localStorage.setItem("links",JSON.stringify(b))}}var storage=new Storage;storage.init();
function Pagination(){var a=storage.getAllItems(),b=document.getElementById("button--prev"),c=document.getElementById("button--next"),d=document.getElementById("item-wrapper"),e=1;this.init=function(){h(1);var a=document.getElementById("pages");a.innerHTML="";for(var d=1;d<g()+1;d++)a.innerHTML+="<button class='page-number'>"+d+"</button>";l();m();b.addEventListener("click",n);c.addEventListener("click",p)};var l=function(){for(var a=document.querySelectorAll(".page-number"),b=0;b<a.length;b++)b==
e-1?a[b].classList.remove("opacity"):a[b].classList.add("opacity")},h=function(k){if(1>a.length)return d.style.display="block",d.innerHTML='<p class="center">No bookmarks to show. Please add some!</p>',!1;k>g()-1&&(k=g());d.innerHTML="";for(var f=20*(k-1);f<20*k&&f<a.length;f++)d.innerHTML+='\n        <div class="item">\n          <div class="item__bar">\n            <h1 class="item__bar--title">\n              <span class="edit">Edit</span>\n              <input type="text" name="name" id="linkrname" placeholder="'+
a[f].name+'" maxlength="20" size="20" disabled>\n            </h1>\n            <span class="remove"><span class="remove-text">Remove</span></span>\n          </div>\n          <a href="'+a[f].url+'" target="_blank">\n            <div class="item__content" style=\'background-color:'+a[f].color+'\'>\n              <h4 class="item__content--url">'+a[f].url+'</h4>\n              <h5 class="item__content--date">Last updated: '+a[f].date+"</h5>\n            </div>\n          </a>\n        </div>";1==e?
b.classList.add("opacity"):b.classList.remove("opacity");e==g()?c.classList.add("opacity"):c.classList.remove("opacity");l()},n=function(){1<e&&(e--,h(e))},p=function(){e<g()&&(e++,h(e))},m=function(){document.addEventListener("click",function(a){"BUTTON"==a.target.nodeName&&a.target.classList.contains("page-number")&&(e=a.target.textContent,h(e))})},g=function(){return Math.ceil(a.length/20)}}var pagination=new Pagination;pagination.init();
var editItemClick=function(a){a.target.classList.contains("edit")&&editItem(a)},editItemReturn=function(a){13===a.keyCode&&"linkrname"===a.target.id&&editItem(a)},editItem=function(a){var b=a.target.parentNode.parentNode.parentNode;a=b.children[1].href;var c=b.children[0].children[0].children[0];b=b.children[0].children[0].children[1];if(void 0!==a&&!a.includes("undefined"))if(b.disabled)b.disabled=!1,b.classList.add("active"),changeDomText(c,"Save","black");else{b.disabled=!0;var d=b.value;b.classList.remove("active");
storage.updateItemName(a,d);changeDomText(c,"Edit","black")}},removeItem=function(a){if(a.target.classList.contains("remove")){var b=a.target.parentNode.parentNode,c=b.children[1].href;b=b.children[0].children[1];"mouseover"===a.type?b.textContent="Remove":("click"===a.type?storage.removeItem(c):null,isMobile()?null:b.textContent="")}},isUrlValid=function(a){return/^((https?:\/\/))?([\w\d\-]+.)?[\w\d\-]+\.([\w\.]+)+(\/?([\w\d\-\/]*))$/.test(a)},isUrlDuplicate=function(a){return a?storage.getAllItems().map(function(a){return a.url}).includes(a):
!1},doesUrlExist=function(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET","https://cors-anywhere.herokuapp.com/"+a);d.onload=function(){200<=d.status&&308>=d.status?b("success"):c("fail")};d.onerror=function(){return c(d.statusText)};d.send()})},extractNameFromUrl=function(a){a=a.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!==a&&2<a.length&&"string"===typeof a[2]&&0<a[2].length?a[2]:"No Name"},getRandomColor=function(){var a=Math.floor,b=Math.random;return"rgba("+a(255*
b())+", "+a(255*b())+", "+a(255*b())+", 0.5)"},validateForm=function(a){a.preventDefault();var b=document.querySelector(".form--validation-message"),c=document.getElementById("url").value,d=document.getElementById("name").value||extractNameFromUrl(c);changeDomText(b,"");isUrlValid(c)?isUrlDuplicate(c)?changeDomText(b,"URL is already in the bookmark."):(changeDomText(b,"Please be patient until we check if this url exists...","green"),doesUrlExist(c).then(function(a){saveItem(d,c)})["catch"](function(a){changeDomText(b,
"Sorry, URL doesn't exist.")})):changeDomText(b,"Please enter a valid URL.")},saveItem=function(a,b){var c={name:a,url:b,date:formatDate(new Date),color:getRandomColor()};storage.setItem(c);window.location.href="result.html"};
document.addEventListener("DOMContentLoaded",function(){var a=document.querySelector("#linkr"),b=document.querySelector("body");a&&(a.addEventListener("submit",validateForm),b.addEventListener("click",editItemClick),b.addEventListener("keypress",editItemReturn),b.addEventListener("click",removeItem),b.addEventListener("mouseover",removeItem),b.addEventListener("mouseout",removeItem))});
